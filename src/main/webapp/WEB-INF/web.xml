<?xml version="1.0" encoding="UTF-8"?>
<web-app version="4.0" 
         xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  
  <display-name>WebsiteForum</display-name>
  
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>default.html</welcome-file>
    <welcome-file>default.jsp</welcome-file>
    <welcome-file>default.htm</welcome-file>
  </welcome-file-list>
  
  <!-- ========================================
       File Upload Configuration
       ======================================== -->
  
  <!-- Thư mục lưu trữ file upload -->
  <context-param>
    <param-name>upload.location</param-name>
    <param-value>/storage</param-value>
  </context-param>
  
  <!-- Kích thước file tối đa: 50MB (52428800 bytes) -->
  <context-param>
    <param-name>max.file.size</param-name>
    <param-value>52428800</param-value>
  </context-param>
  
  <!-- Kích thước request tối đa: 100MB (104857600 bytes) -->
  <context-param>
    <param-name>max.request.size</param-name>
    <param-value>104857600</param-value>
  </context-param>
  
  <!-- Ngưỡng file size để lưu vào memory: 2MB (2097152 bytes) -->
  <context-param>
    <param-name>file.size.threshold</param-name>
    <param-value>2097152</param-value>
  </context-param>
  
  <!-- ========================================
       Session Configuration
       ======================================== -->
  
  <!-- ========================================
       MIME Type Mappings
       ======================================== -->
  
  <!-- Đảm bảo các file media được serve đúng MIME type -->
  <mime-mapping>
    <extension>mp4</extension>
    <mime-type>video/mp4</mime-type>
  </mime-mapping>
  
  <mime-mapping>
    <extension>webm</extension>
    <mime-type>video/webm</mime-type>
  </mime-mapping>
  
  <mime-mapping>
    <extension>ogg</extension>
    <mime-type>video/ogg</mime-type>
  </mime-mapping>
  
  <mime-mapping>
    <extension>webp</extension>
    <mime-type>image/webp</mime-type>
  </mime-mapping>
  
</web-app>